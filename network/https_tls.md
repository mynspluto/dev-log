# TLS(Transport Layer Security)
TLS는 보안 프로토콜로 네트워크 통신 시 데이터를 암호화, 무결성 검증, 인증하는 역할
TLS는 TCP/IP 프로토콜 위에서 동작하며, 암호화된 통신 채널을 만듦
이전에는 SSL(Secure Sockets Layer)라는 프로토콜이 있었는데, TLS가 발전된 형태로 사실상 SSL의 후속버전
예를 들어 이메일, FTP, VPN 등 다양한 통신에 TLS를 적용할 수 있음

# HTTPS(HyperText Transfer Protocol Secure)
HTTPS는 HTTP 프로토콜 위에 TLS를 적용한 것
즉 HTTP 통신을 TLS로 암호화하여 안전하게 만든 프로토콜
웹사이트 주소가 https://로 시작하면, 그 사이트는 HTTP 통신을 TLS로 암호화해서 데이터를 주고 받는다는 뜻
HTTPS는 웹에서 사용되는 보안 통신 방법의 표준

# HTTPS 통신 흐름, 원리
1. 클라이언트가 서버에 접속 요청
2. 서버가 자신의 TLS 인증서 보냄
3. 클라이언트가 인증서 검증
4. 클라이언트가 임시 세션키 생성 후 서버 공개키로 암호화해서 서버로 보냄
- 브라우저가 랜덤으로 세션키를 생성하고 서버의 공개키로 암호화해서 보냄
- 서버는 자신의 개인키로 이걸 복호화해서 클라이언트의 세션키 획득
- 클라이언트와 서버가 이 동일한 세션키를 사용해 대칭암호화로 데이터 주고 받음
- 서버는 자신의 개인키로 복호화한 평문 세션키로 암호화해서 데이터 보내고
- 클라이언트는 다시 자신의 세션키로 서버가 암호화해선 보낸 데이터 복호화, 서버는 다시 받은 데이터 세션키로 복호화
5. 이후부터는 세션키를 사용해 대칭키 암호화 방식으로 데이터 암호화 및 복호화
6. 데이터 무결성 확인 및 안전한 통신 보장


# SSL 인증서
흔히 웹사이트에 설치하는 공개키 인증서를 'SSL 인증서'라고 부르지만 실제로는 TLS 프로토콜을 위한 인증서

# AWS 상 https 인증서

## ec2 단독
EC2 내 Nginx 또는 Spring Boot 내장 톰캣 등 직접 설정
인증서 갱신 및 보안 설정 자동화 어려움, 무중단 배포 복잡

## alb + ec2
ALB에서 AWS Certificate Manager(ACM)으로 관리 및 SSL 종료
ACM에서 자동 발급 및 갱신, ALB에 자동 적용

## alb + eks
ALB에서 ACM 인증서로 SSL 종료 (AWS Load Balancer Controller 사용)
ALB 비용 발생, 설정 복잡도 있음

## eks 단독
Nginx Ingress Controller에서 TLS Secret으로 인증서 적용
ALB 부재로 인해 확장성이나 AWS 관리형 기능 일부 제한

## 인증서 유료, 무료 차이
유료로 구매시 회사 정보를 기입하고 구매하기 때문에 브라우저에서 인증서 조회시 회사와 조직에 대한 정보 조회 가능
무료의 경우 도메인 검증만 가능