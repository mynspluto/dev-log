## 쓰기 지연

| 메서드          | 쓰기 지연 SQL 생성 시점                  | DB에 실제 쿼리 전송 시점         | 비고                              |
|-----------------|----------------------------------------|-------------------------------|----------------------------------|
| `persist(entity)`| 호출 시점에 INSERT SQL이 쓰기 지연 저장소에 등록 | 트랜잭션 커밋 시 또는 명시적 `flush()` 시 | 새 엔티티 영속화, INSERT 준비      |
| `remove(entity)` | 호출 시점에 DELETE SQL이 쓰기 지연 저장소에 등록 | 트랜잭션 커밋 시 또는 명시적 `flush()` 시 | 엔티티 삭제 예약                   |
| `merge(entity)`  | 호출 시점에 변경 내용에 따라 INSERT 또는 UPDATE SQL 등록 | 트랜잭션 커밋 시 또는 명시적 `flush()` 시 | 준영속 엔티티를 영속 상태로 병합   |
| 엔티티 필드 수정  | 트랜잭션 커밋 직전 `flush()` 시 변경 감지되어 UPDATE SQL 생성 | 트랜잭션 커밋 시 또는 명시적 `flush()` 시 | Dirty Checking에 의해 자동 생성    |
