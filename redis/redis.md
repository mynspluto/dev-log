# 큐는 하나인데 큐의 메시지를 여러 스레드에서 가져가서 처리할 때 순서 보장

## 순서 정렬 버퍼
메시지마다 seq번호를 부여, 각 스레드에서 메시지를 처리하며
처리 결과를 정렬 큐 또는 버퍼에 넣고 순서대로 처리/출력
- 병렬 처리 + 순서 보장은 가능
- 처리 지연 발생(순번 기다리기)

## 시퀀스 락/세마포어
처리 순서를 제어하는 카운터 또는 조건 변수 사용
현재 처리 순선은 5번인데, 7번이 먼저 완료되면 5번까지 대기
- 순서 정확
- 구현 복잡도 있음 / 처리 지연 가능성

## 그룹화 + 스레드 고정
아이디나 키 값 기준으로 메시지를 그룹화하여 항상 같은 스레드가 처리하도록 고정
userId % N => 특정 스레드로 전달
각 스레드는 자기 큐에서 순차 처리하므로 그 그룹 내 순서 유지
